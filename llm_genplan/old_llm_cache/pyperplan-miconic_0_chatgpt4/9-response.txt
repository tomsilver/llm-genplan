def get_plan(objects, init, goal):
    def get_floor_order(init, floors):
        order = []
        visited = set()
        for floor in floors:
            if floor not in visited:
                stack = [floor]
                while stack:
                    f = stack.pop()
                    if f not in visited:
                        visited.add(f)
                        order.append(f)
                        for atom in init:
                            if atom[0] == 'above' and atom[1] == f:
                                stack.append(atom[2])
        return order

    floors = sorted([obj[0] for obj in objects if obj[1] == "floor"])
    passengers = [obj[0] for obj in objects if obj[1] == "passenger"]

    origins = {atom[1]: atom[2] for atom in init if atom[0] == "origin"}
    destinations = {atom[1]: atom[2] for atom in init if atom[0] == "destin"}
    lift_position = next(atom[1] for atom in init if atom[0] == "lift-at")

    floor_order = get_floor_order(init, floors)

    plan = []
    unserved_passengers = set(passenger for passenger in passengers if ('served', passenger) not in init)
    boarded_passengers = set(passenger for passenger in passengers if ('boarded', passenger) in init)

    while unserved_passengers:
        if lift_position == 'f3':
            direction = -1
        else:
            direction = 1

        for _ in range(len(floor_order) - 1):
            next_floor = floor_order[floor_order.index(lift_position) + direction]
            if direction == 1:
                plan.append(("up", lift_position, next_floor))
            else:
                plan.append(("down", lift_position, next_floor))
            lift_position = next_floor

            # Board passengers
            for passenger, origin in origins.items():
                if origin == lift_position and passenger in unserved_passengers and passenger not in boarded_passengers:
                    if ('served', passenger) not in init:
                        plan.append(("board", lift_position, passenger))
                        boarded_passengers.add(passenger)

            # Depart passengers
            for passenger, destin in destinations.items():
                if destin == lift_position and passenger in boarded_passengers and passenger in unserved_passengers:
                    plan.append(("depart", lift_position, passenger))
                    unserved_passengers.discard(passenger)

            direction *= -1

    return plan
