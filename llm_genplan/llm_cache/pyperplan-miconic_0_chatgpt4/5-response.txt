def get_plan(objects, init, goal):
    floors = get_floors(objects)
    passengers = get_passengers(objects)
    origins, destinations = get_origins_and_destinations(init)
    lift_start = get_lift_start(init)
    above_pairs = get_above_pairs(init)

    plan = []
    boarded_passengers = set()

    for direction in ['up', 'down']:
        for i, floor in enumerate(floors if direction == 'up' else reversed(floors)):
            if lift_start != floor:
                if direction == 'up' and (lift_start, floor) in above_pairs:
                    plan.append(f"({direction} {lift_start} {floor})")
                elif direction == 'down' and (floor, lift_start) in above_pairs:
                    plan.append(f"({direction} {lift_start} {floor})")
                lift_start = floor

            for passenger in passengers:
                if origins[passenger] == floor:
                    plan.append(f"(board {floor} {passenger})")
                    origins[passenger] = None
                    boarded_passengers.add(passenger)

                if destinations[passenger] == floor and passenger in boarded_passengers:
                    plan.append(f"(depart {floor} {passenger})")
                    destinations[passenger] = None
                    boarded_passengers.remove(passenger)

    return plan
