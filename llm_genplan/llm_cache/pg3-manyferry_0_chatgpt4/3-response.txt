def get_car_location(car, init):
    for atom in init:
        if atom[0] == 'at' and atom[1] == car:
            return atom[2]
    return None


def get_plan(objects, init, goal):
    plan = []
    locations = [o for o in objects if o.startswith('l')]
    cars = [o for o in objects if o.startswith('c')]
    ferry_location = [atom[1] for atom in init if atom[0] == 'at-ferry'][0]

    for atom in goal:
        if atom[0] == 'at':
            car, destination = atom[1], atom[2]
            car_location = get_car_location(car, init)

            if car_location != destination:
                # Sail to the car's location only if not already there
                if ferry_location != car_location:
                    plan.append(f'(sail {ferry_location} {car_location})')
                    ferry_location = car_location

                # Board the car onto the ferry
                plan.append(f'(board {car} {car_location})')

                # Sail to the destination
                plan.append(f'(sail {ferry_location} {destination})')
                ferry_location = destination

                # Debark the car at the destination
                plan.append(f'(debark {car} {destination})')

    return plan
